{"ast":null,"code":"import axios from \"axios\";\nconst baseUrl = \"https://node-auth-jwt-w78c.onrender.com\";\nconst Endpoints = {\n  signup: `${baseUrl}/signup`,\n  login: `${baseUrl}/login`,\n  users: `${baseUrl}/users`\n};\nexport async function login(logininfo, callback) {\n  try {\n    const response = await axios(Endpoints.login, {\n      data: logininfo,\n      method: \"POST\"\n    });\n    if (response.status >= 200 && response.status < 300) {\n      const token = response.data.token;\n      localStorage.setItem(\"token\", token);\n      callback({\n        success: true,\n        message: \"Logged In\"\n      });\n    } else {\n      callback({\n        success: false,\n        message: response.data.message\n      });\n    }\n  } catch (error) {\n    callback({\n      success: false,\n      message: error.message\n    });\n  }\n}\n//2-\nexport async function Signup(loginInfo, callback) {\n  try {\n    const response = await axios(Endpoints.signup, {\n      data: loginInfo,\n      method: 'POST'\n    });\n    if (response.status === '200' && response < \"300\") {\n      const token = response.data.token;\n      localStorage.setItem(\"token\", token);\n      callback({\n        success: true,\n        message: \"User Created Successfully\"\n      });\n    } else {\n      callback({\n        success: false,\n        message: \"Failed to create  user\"\n      });\n    }\n  } catch (error) {\n    callback({\n      success: true,\n      message: error.message\n    });\n  }\n}\n\n//3->\n_c = Signup;\nexport async function getAllUsers(callback) {\n  try {\n    const response = await axios(Endpoints.users, {\n      method: \"Get\",\n      headers: {\n        \"Authorization\": `Bearer :${localStorage.getItem('token')}`\n      }\n    });\n    if (response.status === 200 && response.status < 300) {\n      callback({\n        success: true,\n        data: response.data.result\n      });\n    } else {\n      callback({\n        success: false,\n        message: response.data.message\n      });\n    }\n  } catch (error) {\n    var _error$response$data$, _error$response, _error$response$data;\n    callback({\n      success: false,\n      message: (_error$response$data$ = (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) !== null && _error$response$data$ !== void 0 ? _error$response$data$ : error.message\n    });\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["axios","baseUrl","Endpoints","signup","login","users","logininfo","callback","response","data","method","status","token","localStorage","setItem","success","message","error","Signup","loginInfo","_c","getAllUsers","headers","getItem","result","_error$response$data$","_error$response","_error$response$data","$RefreshReg$"],"sources":["C:/Users/ASUS/authorisationApp/authapp/src/network/api.js"],"sourcesContent":["import axios from \"axios\"\r\n\r\n\r\nconst baseUrl = \"https://node-auth-jwt-w78c.onrender.com\";\r\nconst Endpoints = {\r\n    signup :`${baseUrl}/signup`,\r\n    login:`${baseUrl}/login`,\r\n    users:`${baseUrl}/users`\r\n}\r\n\r\nexport async function login (logininfo, callback){\r\n\r\ntry{\r\n    const response = await axios(Endpoints.login, {data:logininfo , method:\"POST\"});\r\n    if(response.status>=200 && response.status < 300){\r\n      \r\n     const token =  response.data.token ; \r\n     localStorage.setItem(\"token\",token);\r\n        callback({success:true,message:\"Logged In\"});\r\n    }\r\n    else{\r\n      callback({success:false , message: response.data.message});\r\n    }\r\n\r\n}\r\ncatch(error){\r\n    callback({success:false,message:error.message});\r\n}\r\n\r\n}\r\n//2-\r\nexport async function Signup(loginInfo,callback){\r\n    try{\r\n       const response = await axios(Endpoints.signup,{data:loginInfo,method:'POST'});\r\n       if(response.status==='200' && response< \"300\"){\r\n       const token = response.data.token;\r\n       localStorage.setItem(\"token\",token);\r\n       callback({success:true,message:\"User Created Successfully\"});\r\n       }else{\r\n      callback({success:false,message:\"Failed to create  user\"});\r\n       }\r\n    }\r\n    catch(error){\r\n    callback({success:true,message:error.message});\r\n    }\r\n\r\n}\r\n\r\n//3->\r\nexport async function getAllUsers (callback){\r\n    try{\r\n       const response = await axios(Endpoints.users,{\r\n        method:\"Get\",\r\n        headers:{\r\n        \"Authorization\":`Bearer :${localStorage.getItem('token')}`,\r\n    }\r\n\r\n    })\r\n    if(response.status===200 && response.status < 300){\r\n        callback({success:true, data: response.data.result});\r\n    }\r\n    else{\r\n        callback({success:false, message: response.data.message});\r\n    }\r\n\r\n    }\r\n    catch(error){\r\n     callback({success:false, message: error.response?.data?.message ??  error.message});\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}