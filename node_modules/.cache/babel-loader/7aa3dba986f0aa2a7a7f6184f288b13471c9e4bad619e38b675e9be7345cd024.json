{"ast":null,"code":"import axios from \"axios\";\nconst baseUrl = \"https://node-auth-jwt-w78c.onrender.com\";\nconst Endpoints = {\n  signup: `${baseUrl}/signup`,\n  login: `${baseUrl}/login`,\n  users: `${baseUrl}/users`\n};\nexport async function login(logininfo, callback) {\n  try {\n    const response = await axios(Endpoints.login, {\n      data: logininfo,\n      method: \"POST\"\n    });\n    if (response.status >= 200 && response.status < 300) {\n      const token = response.data.token;\n      localStorage.setItem(\"token\", token);\n      callback({\n        success: true,\n        message: \"Logged In\"\n      });\n    } else {\n      callback({\n        success: false,\n        message: response.data.message\n      });\n    }\n  } catch (error) {\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      callback({\n        success: false,\n        message: `Server responded with status ${error.response.status}`\n      });\n    } else if (error.request) {\n      // The request was made but no response was received\n      callback({\n        success: false,\n        message: \"No response from server\"\n      });\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      callback({\n        success: false,\n        message: error.message\n      });\n    }\n  }\n}\n//2-\nexport async function Signup(loginInfo, callback) {\n  try {\n    const response = await axios.post(Endpoints.signup, loginInfo);\n    console.log(response);\n    if (response.status >= 200 && response.status < 300) {\n      const token = response.data.token;\n      localStorage.setItem(\"token\", token);\n      callback({\n        success: true,\n        message: \"User Created Successfully\"\n      });\n    } else {\n      callback({\n        success: false,\n        message: \"Failed to create  user\"\n      });\n    }\n  } catch (error) {\n    callback({\n      success: true,\n      message: error.message\n    });\n  }\n}\n\n//3->\n_c = Signup;\nexport async function getAllUsers(callback) {\n  try {\n    const response = await axios(Endpoints.users, {\n      method: \"Get\",\n      headers: {\n        \"Authorization\": `Bearer :${localStorage.getItem('token')}`\n      }\n    });\n    if (response.status === 200 && response.status < 300) {\n      callback({\n        success: true,\n        data: response.data.result\n      });\n    } else {\n      callback({\n        success: false,\n        message: response.data.message\n      });\n    }\n  } catch (error) {\n    var _error$response$data$, _error$response, _error$response$data;\n    callback({\n      success: false,\n      message: (_error$response$data$ = (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) !== null && _error$response$data$ !== void 0 ? _error$response$data$ : error.message\n    });\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["axios","baseUrl","Endpoints","signup","login","users","logininfo","callback","response","data","method","status","token","localStorage","setItem","success","message","error","request","Signup","loginInfo","post","console","log","_c","getAllUsers","headers","getItem","result","_error$response$data$","_error$response","_error$response$data","$RefreshReg$"],"sources":["C:/Users/ASUS/authorisationApp/authapp/src/network/api.js"],"sourcesContent":["import axios from \"axios\"\r\n\r\n\r\nconst baseUrl = \"https://node-auth-jwt-w78c.onrender.com\";\r\nconst Endpoints = {\r\n    signup :`${baseUrl}/signup`,\r\n    login:`${baseUrl}/login`,\r\n    users:`${baseUrl}/users`\r\n}\r\n\r\nexport async function login (logininfo, callback){\r\n\r\ntry{\r\n    const response = await axios(Endpoints.login, {data:logininfo , method:\"POST\"});\r\n    if(response.status>=200 && response.status < 300){\r\n      \r\n     const token =  response.data.token ; \r\n     localStorage.setItem(\"token\",token);\r\n        callback({success:true,message:\"Logged In\"});\r\n    }\r\n    else{\r\n      callback({success:false , message: response.data.message});\r\n    }\r\n\r\n}\r\ncatch(error){\r\n    if (error.response) {\r\n        // The request was made and the server responded with a status code\r\n        callback({ success: false, message: `Server responded with status ${error.response.status}` });\r\n    } else if (error.request) {\r\n        // The request was made but no response was received\r\n        callback({ success: false, message: \"No response from server\" });\r\n    } else {\r\n        // Something happened in setting up the request that triggered an Error\r\n        callback({ success: false, message: error.message });\r\n    }\r\n}\r\n\r\n}\r\n//2-\r\nexport async function Signup(loginInfo,callback){\r\n   \r\n    try{\r\n       const response = await axios.post(Endpoints.signup,loginInfo);\r\n       console.log(response)\r\n       if(response.status >= 200 && response.status < 300){\r\n       const token = response.data.token;\r\n       localStorage.setItem(\"token\",token);\r\n       callback({success:true,message:\"User Created Successfully\"});\r\n       }else{\r\n      callback({success:false,message:\"Failed to create  user\"});\r\n       }\r\n    }\r\n    catch(error){\r\n    callback({success:true,message:error.message});\r\n    }\r\n\r\n}\r\n\r\n//3->\r\nexport async function getAllUsers (callback){\r\n    try{\r\n       const response = await axios(Endpoints.users,{\r\n        method:\"Get\",\r\n        headers:{\r\n        \"Authorization\":`Bearer :${localStorage.getItem('token')}`,\r\n    }\r\n\r\n    })\r\n    if(response.status===200 && response.status < 300){\r\n        callback({success:true, data: response.data.result});\r\n    }\r\n    else{\r\n        callback({success:false, message: response.data.message});\r\n    }\r\n\r\n    }\r\n    catch(error){\r\n     callback({success:false, message: error.response?.data?.message ??  error.message});\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}